
<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="utf-8">
    <title>Wayne State Blood Bank</title>
    <link rel="stylesheet" href="design.css" media="screen">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.10/semantic.min.css">
</head>


<div class="header">
    <div class="ui green clearing inverted segment">
        <!--See modal section of semantic, click on login to popup the username and pw prompt-->
        <!--signup will be a button next to login that turns into a signout after a user is logged in-->

        <div class="ui right floated header">
            <button class="ui red button" id="loginButton" onclick="openLoginModal()">SignUp/Login</button>
            <!--show after logged in-->
            <a href="/logout">
              <button class="ui red button" id="logoutButton">Logout</button>
            </a>
        </div>
        <h3 class="ui left floated huge red header">
            Red Cross Warriors
        </h3>
    </div>
</div>

<!--sign in start may need to get rid of this too sadly-->
<div class="ui modal">
    <i class="close icon"></i>
    <div class="content">
        <div class="ui placeholder segment">
            <div class="ui two column very relaxed stackable grid">
                <div class="column">
                    <form class="ui form" method="post">
                        <div class="field">
                            <label>E-mail</label>
                            <div class="ui left icon input">
                                <input type="text"  name="username" placeholder="email" id="un"/>
                                <i class="user icon"></i>
                            </div>
                        </div>
                        <div class="field">
                            <label>Password</label>
                            <div class="ui left icon input">
                                <input type="password" placeholder="password" name="password" id="pw"/>
                                <i class="lock icon"></i>
                            </div>
                        </div>

                        <input type="submit"/>
                    </form>
                </div>
                <div class="middle aligned column">
                    <div class="ui header">Don't have an account?<br>
                        <a href="/signup.html">
                        <div class="ui big button">
                            <i class="signup icon"></i>
                            Sign Up
                        </div>
                        </a>
                    </div>
                </div>
            </div>

        </div>
    </div>


    <!--Will need to get rid of this-->
    <!--Sign in end-->

</div>
<!--jquery should be above semantic because of dependencies-->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.10/semantic.min.js"></script>
<script src="webpageFun.js"></script>
<nav>
    <!--whatever pages we want-->
    <div class="ui attached stackable menu">
        <!--how to make this fully left l-->
        <div class="ui container">
            <a class="item" onclick="location.href='index.html'">
                <i class="home icon" id="homeButton"></i> Home
            </a>
            <a class="item">
                <i class="grid layout icon"></i> Page 2
            </a>
            <a class="item">
                <i class="mail icon"></i> Page 3
            </a>
            <!--how to lock this behind login-->
            <div class="ui simple dropdown item">
                More
                <i class="dropdown icon"></i>
                <div class="menu">
                    <a class="item" onclick="location.href='myProfile.html'"> My Profile</a>
                    <a class="item"> Send Request?</a>
                    <a class="item">Account Settings</a>
                </div>
            </div>
        </div>
    </div>

</nav>

<body>
<div class="ui fluid container">
    <div class="content">
        <div class="transparent-bg">
            <img src="Blood-Donation.jpg" id="bdimg" style="width:100%;">
        </div>
        <div class="ui container">
            <div class="centered">
              <div class="mainContainer" id="mainContainer" style="display: block">
			  <div class="ui placeholder segment" id="fogCover" style="background: rgba(0,0,0,.7); max-width: 1200px; max-height: 500px; overflow-y: auto;">
                <h1 style="font-size:4vw;">Request Blood</h1>
                <p style="font-size:2vw;">Please fill out the form below</p>
			
			
<form>


    <label for="myFName">*First Name:</label>
    <input style="color: black;" type="text" name="myFName" id="myFName"
           required = "required">
    <br><br>

    <label for="myLName">*Last Name:</label>
    <input style="color: black;" type="text" name="myLName" id="myLName"
           required = "required">
    <br><br>

    <label for="myEmail">*E-Mail:</label>
    <input style="color: black;" type="email" name="myEmail" id="myEmail"
           required = "required">
    <br><br>


    <label for="myPhone">Phone:</label>
    <input style="color: black;" type="tel" name="myPhone" id = "myPhone" required = "required">
    <br><br>

    <label>Blood Type:</label>
    <select  style="color: black;" name="myBlood" id = "bloodType">
        <option value="A+"class = "others">A+</option>
        <option value="B+"class = "others">B+</option>
        <option value="O+"class = "others">O+</option>
        <option value="AB+"class = "others">AB+</option>
        <option value="A-"class = "others">A-</option>
        <option value="B-"class = "others">B-</option>
        <option value="O-"class = "others">O-</option>
        <option value="AB-"class = "others">AB-</option>
    </select>
    <br>

   <label for="hospital">*Hospital</label>
   <input style="color: black;"  type="text" name="myHospital" id="hospital">
   <br>

   <label for="myStreet">*Street:</label>
   <input style="color: black;"  type="text" name="myStreet" id="myStreet"
   required = "required">
   <br>

   <label for="myCity">*City:</label>
   <input style="color: black;"  type="text" name="myCity" id="myCity"
   required = "required">
   <br>
   
  <label>*State:</label>
    <select  style="color: black;" name="myState" id = "myState">
	<option value="MI" class = "others">Michigan</option>
    </select> 
    <br>

    <label for="zipCode">*Zip Code:</label>
    <input style="color: black;"  type="text" name="zipCode" id="zipCode"
           required = "required">
    <br>

   <label for="description">*Situation:</label>
  <textarea  style="color: black;" name="Text1" cols="40" rows="5" style="color=black" id = "situation"
             required = "required"> </textarea>
   <br>

</form>
<button onclick = "validate()">Submit</button>
              </div>
              </div>
            </div>
        </div>
    </div>
</div>

<script>

function validate()
{
    if(checkForm() == true )
    {
        console.log("hi");
        var firstName = document.getElementById("myFName").value;
        var lastName = document.getElementById("myLName").value;
        var email = document.getElementById("myEmail").value;
        var phoneNumber = document.getElementById("myPhone").value;
        var bloodType =  document.getElementById("bloodType").value;
        var hospital = document.getElementById("hospital").value;
        var street = document.getElementById("myStreet").value;
        var city = document.getElementById("myCity").value;
        var state = document.getElementById("myState").value;
        var zipCode = document.getElementById("zipCode").value;
        var situation = document.getElementById("situation").value;

        var requestInfo =
        {
            firstName: firstName ,
            lastName : lastName ,
            email : email,
            phoneNumber : phoneNumber,
            bloodType: bloodType
            hospitalName : hospital,
            streetName : street,
            cityName : city,
            stateName : state,
            zipCode : zipCode,
            message : situation


        }
                    $.ajax(
                    {
                        type:"POST",
                        url: "/requestBlood",
                        data:JSON.stringify(requestInfo),
                        contentType: 'application/json',
                        dataType:"json",
                        success: function(data){
                            alert("Form submitted successfully!");
                        },
                        failure: function(error){
                            alert("Sorry your request did not go through!");
                        },
                        error: function(error){
                            alert(error);
                        }
                    });
    }
    else
    {
        alert("Fields cannot be empty")
        console.log("fields are empty");
    }

}

</script>


<script>
function checkForm()
{
  var check = true;
  var name = document.getElementById("name").value;
  var hospital = document.getElementById("hospital").value;
  var street = document.getElementById("myStreet").value;
  var city = document.getElementById("myCity").value;
  var state = document.getElementById("myState").value;
  var phoneNumber = document.getElementById("myPhone").value;
  var bloodType =  document.getElementById("bloodType").value;
  var situation = document.getElementById("situation").value;

   if (name == "")
  {alert("Error: Please enter a name");
        document.getElementById("name").focus();
        check = false;
  }
  
  if (hospital == "")
  {alert("Error: Please enter a hospital");
        document.getElementById("hospital").focus();
        check = false;
  }
  if (street == "")
  {alert("Error: Please enter a street address");
        document.getElementById("name").focus();
        check = false;
  }
  if (city == "")
  {alert("Error: Please enter a city");
        document.getElementById("name").focus();
        check = false;
  }
  if (phoneNumber == "")
  {alert("Error: Please enter a number");
        document.getElementById("name").focus();
        check = false;
  }
 

  return check;
}
</script>

<script>
    loginCheck();
</script>
</body>

<div class="footer">

</div>
</html>
